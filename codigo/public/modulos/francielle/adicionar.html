<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Adicionar Usuário</title>
<link rel="stylesheet" href="adicionar.css">
</head>
<body>

<div class="container">
  <h2>Adicionar Novo Usuário</h2>
  <form id="form-adicionar">
    <label>Nome:</label>
    <input type="text" id="nome" required>
    <label>Idade:</label>
    <input type="number" id="idade" required>
    <label>Contato:</label>
    <input type="text" id="contato" required>
    <button type="submit">Adicionar</button>
  </form>

  <a class="back-link" href="usarios.html">← Voltar para a lista</a>
</div>

<script>
const URL_API = "http://localhost:3000/pessoas";

document.getElementById("form-adicionar").addEventListener("submit", function(e){
  e.preventDefault();

  const novo = {
    nome: document.getElementById("nome").value,
    idade: Number(document.getElementById("idade").value),
    contato: document.getElementById("contato").value
  };

  fetch(URL_API, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(novo)
  })
  .then(() => {
    alert("Usuário adicionado com sucesso!");
    window.location.href = "usuarios.html"; // voltar para lista
  })
  .catch(err => alert("Erro ao adicionar usuário."));
});
</script>

</body>
</html>
